{% extends './base_owner.html' %} {% load static %} {% block header %}
<div class="nav-links" id="topNav">
  <a href="{% url 'owner_main_page' %}#home-html" class="home">Home</a>
  <a href="{% url 'owner_main_page' %}#hostels-html" class="hostels"
    >My Hostels</a
  >
  <a href="{% url 'owner_main_page' %}#new-hostel-html" class="new-hostel"
    >New Hostel</a
  >
  <a href="{% url 'owner_main_page' %}#my-account-html" class="my-account"
    >Account</a
  >
  <a href="{% url 'logout' %}">Logout</a>
</div>
{% endblock %} {% block body %}
<div class="owner-main-wrap hostel-owner-div">
  <div class="owner-html">
    <div class="main-content">
      <div>
        <span style="display: none" id="hostel_id">{{ hostel.id }}</span>
        <div class="inner-menu">
          <ul>
            <li><a id="booking-detail-btn">Detail</a></li>
            <li><a id="booking-active-btn">Active Students</a></li>
            <li><a id="booking-history-btn">History</a></li>
          </ul>
        </div>
        <div class="main-content-book">
          <div class="bookings-table-list">
            <table>
              <tr>
                <th>Owner</th>
                <td>
                  {{ hostel.owner.first_name }} {{ hostel.owner.last_name }}
                </td>
              </tr>
              <tr>
                <th>Hostel Name</th>
                <td>
                  <span class="hostel-name-display"
                    >{{ hostel.hostel_name }}</span
                  >
                  <span class="hide-div hostel-name-input">
                    <form class="input-change-form">
                      <input
                        type="text"
                        value="{{hostel.hostel_name}}"
                        id="hostel-name-inp"
                      />
                      <button type="submit" id="hostel-name-sub">
                        <img src="{% static "admin/img/icon-yes.svg" %}"
                        alt="Save"/>
                      </button>
                    </form>
                  </span>
                </td>
                <td>
                  <button id="hostel-name-btn" class="btn-for-change">
                    <img src="{% static "admin/img/icon-changelink.svg" %}"
                    alt="Edit">
                  </button>
                  <button
                    class="hide-div btn-for-change"
                    id="hostel_name_cancel"
                  >
                    <img src="{% static "admin/img/icon-no.svg" %}"
                    alt="cancel"/>
                  </button>
                </td>
              </tr>
              <tr>
                <th>Price of rent (ksh.)</th>
                <td>
                    <span class="hostel-price-display">{{ hostel.price_per_month }}</span>
                    <span class="hide-div hostel-price-input">
                      <form class="input-change-form">
                        <input type="number" min="500" value="{{hostel.price_per_month}}" id="hostel-price-inp"/>
                        <button type="submit" id="hostel-price-sub">
                          <img src="{% static "admin/img/icon-yes.svg" %}"
                          alt="Save"/>
                        </button>
                      </form>
                    </span>
                </td>
                <td>
                    <button id="hostel-price-btn" class="btn-for-change">
                      <img src="{% static "admin/img/icon-changelink.svg" %}"
                      alt="Edit">
                    </button>
                    <button class="hide-div btn-for-change" id="hostel_price_cancel">
                      <img src="{% static "admin/img/icon-no.svg" %}" alt="cancel"/>
                    </button>
                  </td>
              </tr>
              <tr>
                <th>Number of rooms</th>
                <td>
                  <span class="hostel-rooms-display">{{ hostel.number_rooms }}</span>
                  <span class="hostel-rooms-input hide-div">
                    <form class="input-change-form">
                      <input type="number" min="1" value="{{hostel.number_rooms}}" id="hostel-rooms-inp"/>
                      <button type="submit" id="hostel-rooms-sub">
                        <img src="{% static "admin/img/icon-yes.svg" %}"
                        alt="Save"/>
                      </button>
                    </form>
                </td>
                <td>
                    <button id="hostel-rooms-btn" class="btn-for-change">
                      <img src="{% static "admin/img/icon-changelink.svg" %}"
                      alt="Edit">
                    </button>
                    <button class="hide-div btn-for-change" id="hostel_rooms_cancel">
                      <img src="{% static "admin/img/icon-no.svg" %}" alt="cancel"/>
                    </button>
                  </td>
              </tr>
              <tr>
                <th>Room type</th>
                <td>
                  <span class="hostel-type-display">{{ hostel.room_type }}</span>
                  <span class="hostel-type-input hide-div">
                    <form class="input-change-form">
                      <select id="hostel-type-inp" name="hroom_type">
                        <option value="{{hostel.room_type}}">{{hostel.room_type}}</option>
                        <option value="Single">Single</option>
                        <option value="Double">Double</option>
                        <option value="Triple">Triple</option>
                        <option value="Quad">Quad</option>
                        <option value="Bed Seater">Bed Seater</option>
                        <option value="Self Contained">Self Contained</option></select
                      ><br />
                      <button type="submit" id="hostel-type-sub">
                        <img src="{% static "admin/img/icon-yes.svg" %}"
                        alt="Save"/>
                      </button>
                    </form>
                  </span>
                </td>
                <td>
                    <button id="hostel-type-btn" class="btn-for-change">
                      <img src="{% static "admin/img/icon-changelink.svg" %}"
                      alt="Edit">
                    </button>
                    <button class="hide-div btn-for-change" id="hostel_type_cancel">
                      <img src="{% static "admin/img/icon-no.svg" %}" alt="cancel"/>
                    </button>
                  </td>
              </tr>
              <tr>
                <th>Available rooms</th>
                <td>
                  <span id="avail_rooms">{{ hostel.available_rooms }}</span>
                </td>
              </tr>
              <tr>
                <th>Amenities</th>
                <td>
                  <div class="amenities-display"></div>
                  <button id="add-amenities-btn">
                    <img src="{% static "admin/img/icon-addlink.svg" %}"
                    alt='Add Amenity'>
                  </button>
                  <div id="add-amenities-div">
                    <hr />
                    <div class="amenities-global"></div>
                    <button id="new-amenity-btn">Create New Amenity</button>
                    <div id="new-amenity-div">
                      <input type="text" id="amenity-input" />
                      <button id="submit-amenity-btn">
                        <img src="{% static "admin/img/icon-yes.svg" %}"
                        alt='Submit'/></button
                      ><br />
                    </div>
                    <button id="close-amenity-btn">
                      <img src="{% static "admin/img/icon-no.svg" %}"
                      alt="Close">
                    </button>
                  </div>
                </td>
              </tr>
              <tr>
                <th>Location</th>
                <td>
                  {{ hostel.locality }} - {{ hostel.town }}, {{ hostel.county }}
                  <br />{{ hostel.location }}
                </td>
              </tr>
            </table>

            <div>
              {% for image in images %}
              <img
                src="{{ image.image.url }}"
                alt="{{ hostel.hostel_name }}"
                style="max-width: 200px; margin: 5px"
              />
              {% empty %}
              <p>No images available.</p>
              {% endfor %}
            </div>

            <form method="post" enctype="multipart/form-data" id="add-img-form">
              {% csrf_token %} {{ hostelImageForm.as_p }}
              <button type="submit">
                <img src="{% static "images/upload_image.png" %}" alt="Upload">
              </button>
            </form>
          </div>
          <div class="booking-active-div hide-elem table-list-student">
            <h1>Active Students</h1>
            <div class="print-a-div">
            <a
              href="{% url 'download_active_student' hostel.id 'Active'%}"
              class="print-a"
              >Print Active Students</a>
              <a
              href="{% url 'download_active_student' hostel.id 'Pending'%}"
              class="print-a"
              >Print Pending Students</a>
              <a
              href="{% url 'download_active_student' hostel.id 'Accept'%}"
              class="print-a"
              >Print Accepted Students</a>
            </div>
            <div id="activeHostelBookings"></div>
          </div>
          <div class="booking-history-div hide-elem table-list-student">
            {% comment %} <h1>History of Students who have booked the Hostel</h1> {% endcomment %}
            <div class="print-a-div">
            {% comment %} <a class="print-a" href="{% url 'download_active_student' hostel.id 'All'%}">Convert To PDF</a> {% endcomment %}
            </div>
            <div id="hostelBookings"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %} {% block script %}
<script type="module" src="{% static 'hostel/js/hostel_owner.js' %}"></script>
{% endblock %}
